---
import "../styles/global.css";

interface Props {
	title: string;
        description: string;
        pagetype: string;
}

const {title, description, pagetype} = Astro.props;

const base:string = String(import.meta.env.BASE_URL);
let isHome:boolean = false;
let isResume:boolean = false;
let isAppointment:boolean = false;
let isBook:boolean = false;
let isPubs:boolean = false;
let isConf:boolean = false;
let isHonors:boolean = false;
let isTeaching:boolean = false;
let isContact:boolean = false;
let isSearch:boolean = false;

switch (pagetype) {
   case "home": isHome = true; break;
   case "resume": isResume = true; break;
   case "appointments": isAppointment = true; break;
   case "books": isBook = true; break;
   case "publications": isPubs = true; break;
   case "conferences": isConf = true; break;
   case "honors": isHonors = true; break;
   case "teaching": isTeaching = true; break;
   case "contact": isContact = true; break;
   case "search": isSearch = true; break;
   default: break;
}
---

<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="description" content={description} />
	<meta name="viewport" content="width=device-width" />
	<title>{title}</title>
        {isHome ? <link rel="canonical" href="https://www.mohit.prof/"> : undefined}
        {isPubs ? <link rel="canonical" href="https://www.mohit.prof/journals/"> : undefined}
        {isTeaching ? <link rel="canonical" href="https://www.mohit.prof/teaching/"> : undefined}
        {isConf ? <link rel="canonical" href="https://www.mohit.prof/conferences/"> : undefined}
        {isHonors ? <link rel="canonical" href="https://www.mohit.prof/honors/"> : undefined}
        {isAppointment ? <link rel="canonical" href="https://www.mohit.prof/appointments/"> : undefined}
        {isContact ? <link rel="canonical" href="https://www.mohit.prof/contact/"> : undefined}
        {isResume ? <link rel="canonical" href="https://www.mohit.prof/cv/"> : undefined}
        {isBook ? <link rel="canonical" href="https://www.mohit.prof/books/"> : undefined}
        {isSearch ? <link rel="canonical" href="https://www.mohit.prof/search/"> : undefined}
        <link rel="apple-touch-icon" href={`${base}apple-touch-icon-precomposed.png`}>
        <link rel="icon" sizes="16x16" href={`${base}favicon_16x16.ico`}>
        <link rel="icon" type="image/x-icon" sizes="32x32" href={`${base}favicon.ico`}>
        <!-- <link rel="shortcut icon" href="#"> -->
        {(isHome || isHonors || isContact) ? undefined : <link rel="preload" href={`${base}fonts/o-0ZIpQlx3QUlC5A4PNr4C5OaxRsfNNlKbCePevtuXOmHS91iw.woff2`} crossorigin="anonymous" as="font">}
        <link rel="preload" href={`${base}fonts/o-0bIpQlx3QUlC5A4PNB6Ryti20_6n1iPHjc5a7du3mhPy0.woff2`} crossorigin as="font"> 
        <link rel="sitemap" href="/sitemap-index.xml" />
<script is:inline>
 function playAudio() {
    const y = document.getElementById('pronounce');
    const url = y.dataset.url;
    new Audio(url).play();
 } 
</script>
</head>

<body>
  <div class="drawer lg:drawer-open" data-page={isHome ? "home" : "cv"} >
    <input id="my-drawer-2" type="checkbox" class="drawer-toggle" />
    <div class="drawer-content">
          <slot />
    </div>
    <div class="flex-none lg:hidden justify-left">
         <label for='my-drawer-2' class="btn btn-square drawer-button btn-ghost swap z-10">
<svg class="swap-off [:checked~*_&]:!opacity-0 fill-base-content" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 512 512"><path d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z"/></svg>        
      <!-- close icon -->
      <svg class="swap-on [:checked~*_&]:!opacity-100 fill-base-content" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 512 512"><polygon points="400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49"/></svg> 
        </label>
   </div>
    <div class="drawer-side">
       <label for="my-drawer-2" aria-label="close sidebar" class="drawer-overlay"></label>
       <div class="min-h-full">
         <div class="h-10 w-56 bg-base-100">
         </div>
       <div class="menulist border-r-2 border-base-content/100 bg-base-100">
         <ul class="menu text-2xl w-56 p-4 [&_li>*]:rounded-none">
<!-- <li class=menuitem><span class="hover:bg-base-100"><label class="swap swap-rotate">
  <!-- this hidden checkbox controls the state - ->
  <input type="checkbox" value="dark" class="theme-controller" />

  <!-- sun icon - ->
  <svg class="swap-off h-10 w-10 fill-current"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z" /></svg>

  <!-- moon icon - ->
  <svg class="swap-on h-10 w-10 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z" /></svg>
</label></span></li>-->
           <li><a class:list={["menuitem pagehome", {"navlink": !isHome}, {"myactive": isHome}]} href={base}>Home</a></li>
           <li><a class:list={["menuitem pageresume", {"navlink": !isResume}, {"myactive": isResume}]} href={`${base}cv/`}>Resume</a></li>
           <li><a class:list={["menuitem pageresume", {"navlink": !isAppointment}, {"myactive": isAppointment}]} href={`${base}appointments/`}>Appointments</a></li>
           <li><a class:list={["menuitem pagebook", {"navlink": !isBook}, {"myactive": isBook}]} href={`${base}books/`}>Book</a></li>
           <li><a class:list={["menuitem pagepub", {"navlink": !isPubs}, {"myactive": isPubs}]} href={`${base}journals/`}>Publications</a></li>
           <li><a class:list={["menuitem pageconf", {"navlink": !isConf}, {"myactive": isConf}]} href={`${base}conferences/`}>Conferences</a></li>
           <li><a class:list={["menuitem pagehonor", {"navlink": !isHonors}, {"myactive": isHonors}]} href={`${base}honors/`}>Honors</a></li> 
           <li><a class:list={["menuitem pagehonor", {"navlink": !isTeaching}, {"myactive": isTeaching}]} href={`${base}teaching/`}>Teaching</a></li> 
           <li><a class:list={["menuitem pagehonor", {"navlink": !isContact}, {"myactive": isContact}]} href={`${base}contact/`}>Contact</a></li> 
           <li><a class:list={["menuitem pagehonor", {"navlink": !isSearch}, {"myactive": isSearch}]} href={`${base}searchsite/`}>Search</a></li> 
         </ul>
 
       </div>
       <div class="h-10 w-56 bg-base-100">
       </div>
    </div>
  </div>

</body>
</html>
<style is:global>
@use "../styles/fonts.scss";
@reference "../styles/global.css";
/*
@tailwind base;
@tailwind components;
@tailwind utilities;
@layer base {
  html {
    font-family: "Noto Sans",  system-ui, sans-serif;
  }
}
*/
        li.menuitem > :active {
             @apply bg-base-100;
        }
        a.menuitem.navlink:hover, a.menuitem.navlink:active {
             @apply text-primary;
             @apply bg-base-100;
        }
        a.menuitem.myactive, a.menuitem.myactive:hover {
             @apply bg-neutral;
             @apply text-neutral-content;
             /*cursor: default;*/
        }
        .menulist {
             min-height: calc(100vh - 5rem);
        }
</style>
